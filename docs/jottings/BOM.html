<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BOM对象 | 饭团也有春天</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="https://www.zpzpup.com/assets/image/favicon.ico">
    <script src="/blog/assets/js/bodyClick.js"></script>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/blog/assets/css/0.styles.757e2734.css" as="style"><link rel="preload" href="/blog/assets/js/app.d2a0ea21.js" as="script"><link rel="preload" href="/blog/assets/js/3.a1ba4035.js" as="script"><link rel="preload" href="/blog/assets/js/1.7f92b450.js" as="script"><link rel="preload" href="/blog/assets/js/101.ddf75e67.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.deee5acb.js"><link rel="prefetch" href="/blog/assets/js/100.a9d17a21.js"><link rel="prefetch" href="/blog/assets/js/102.157defd0.js"><link rel="prefetch" href="/blog/assets/js/103.7fae493c.js"><link rel="prefetch" href="/blog/assets/js/104.633f6411.js"><link rel="prefetch" href="/blog/assets/js/105.3bed676d.js"><link rel="prefetch" href="/blog/assets/js/106.437a519a.js"><link rel="prefetch" href="/blog/assets/js/107.a73ccba4.js"><link rel="prefetch" href="/blog/assets/js/108.af9b0565.js"><link rel="prefetch" href="/blog/assets/js/109.d2392ea4.js"><link rel="prefetch" href="/blog/assets/js/11.2563f8ef.js"><link rel="prefetch" href="/blog/assets/js/110.5ac1d29c.js"><link rel="prefetch" href="/blog/assets/js/111.b539504f.js"><link rel="prefetch" href="/blog/assets/js/112.4728acf9.js"><link rel="prefetch" href="/blog/assets/js/113.331d118a.js"><link rel="prefetch" href="/blog/assets/js/114.86efd037.js"><link rel="prefetch" href="/blog/assets/js/115.e85f984c.js"><link rel="prefetch" href="/blog/assets/js/116.75974acd.js"><link rel="prefetch" href="/blog/assets/js/117.5d4aac14.js"><link rel="prefetch" href="/blog/assets/js/118.d024a17c.js"><link rel="prefetch" href="/blog/assets/js/119.8696e8eb.js"><link rel="prefetch" href="/blog/assets/js/12.141f10f2.js"><link rel="prefetch" href="/blog/assets/js/13.385e19b9.js"><link rel="prefetch" href="/blog/assets/js/14.a13f363c.js"><link rel="prefetch" href="/blog/assets/js/15.8e5ff729.js"><link rel="prefetch" href="/blog/assets/js/16.adae33bd.js"><link rel="prefetch" href="/blog/assets/js/17.ceefdc9d.js"><link rel="prefetch" href="/blog/assets/js/18.d853adb1.js"><link rel="prefetch" href="/blog/assets/js/19.5ae4d996.js"><link rel="prefetch" href="/blog/assets/js/20.5de75cae.js"><link rel="prefetch" href="/blog/assets/js/21.7f913898.js"><link rel="prefetch" href="/blog/assets/js/22.0647274d.js"><link rel="prefetch" href="/blog/assets/js/23.9b2e5175.js"><link rel="prefetch" href="/blog/assets/js/24.1e2ff00c.js"><link rel="prefetch" href="/blog/assets/js/25.530016f1.js"><link rel="prefetch" href="/blog/assets/js/26.399abf4e.js"><link rel="prefetch" href="/blog/assets/js/27.ef4c539f.js"><link rel="prefetch" href="/blog/assets/js/28.b5274d0e.js"><link rel="prefetch" href="/blog/assets/js/29.c0f906a1.js"><link rel="prefetch" href="/blog/assets/js/30.fa1696f5.js"><link rel="prefetch" href="/blog/assets/js/31.8a3b9538.js"><link rel="prefetch" href="/blog/assets/js/32.21ad0dab.js"><link rel="prefetch" href="/blog/assets/js/33.74259b31.js"><link rel="prefetch" href="/blog/assets/js/34.4360560f.js"><link rel="prefetch" href="/blog/assets/js/35.9f0d1a27.js"><link rel="prefetch" href="/blog/assets/js/36.25f61f83.js"><link rel="prefetch" href="/blog/assets/js/37.d7e3c24e.js"><link rel="prefetch" href="/blog/assets/js/38.5c9afd79.js"><link rel="prefetch" href="/blog/assets/js/39.da92174f.js"><link rel="prefetch" href="/blog/assets/js/4.6e09d7bf.js"><link rel="prefetch" href="/blog/assets/js/40.fc49960c.js"><link rel="prefetch" href="/blog/assets/js/41.f53da2c0.js"><link rel="prefetch" href="/blog/assets/js/42.a7e13162.js"><link rel="prefetch" href="/blog/assets/js/43.a80f5afd.js"><link rel="prefetch" href="/blog/assets/js/44.5e97023d.js"><link rel="prefetch" href="/blog/assets/js/45.83245204.js"><link rel="prefetch" href="/blog/assets/js/46.08ac49ad.js"><link rel="prefetch" href="/blog/assets/js/47.508ad362.js"><link rel="prefetch" href="/blog/assets/js/48.10ca7130.js"><link rel="prefetch" href="/blog/assets/js/49.340d7732.js"><link rel="prefetch" href="/blog/assets/js/5.41961e52.js"><link rel="prefetch" href="/blog/assets/js/50.7600a55c.js"><link rel="prefetch" href="/blog/assets/js/51.1f905333.js"><link rel="prefetch" href="/blog/assets/js/52.6c0830d6.js"><link rel="prefetch" href="/blog/assets/js/53.76795fc5.js"><link rel="prefetch" href="/blog/assets/js/54.d3cb4f65.js"><link rel="prefetch" href="/blog/assets/js/55.ccd9c8d5.js"><link rel="prefetch" href="/blog/assets/js/56.bb59d8bc.js"><link rel="prefetch" href="/blog/assets/js/57.d7b6ddac.js"><link rel="prefetch" href="/blog/assets/js/58.107440a4.js"><link rel="prefetch" href="/blog/assets/js/59.3826638d.js"><link rel="prefetch" href="/blog/assets/js/6.b8604406.js"><link rel="prefetch" href="/blog/assets/js/60.2b1f0c66.js"><link rel="prefetch" href="/blog/assets/js/61.1fbf905f.js"><link rel="prefetch" href="/blog/assets/js/62.94eb88e9.js"><link rel="prefetch" href="/blog/assets/js/63.b9ad9f82.js"><link rel="prefetch" href="/blog/assets/js/64.5eb31b1d.js"><link rel="prefetch" href="/blog/assets/js/65.68f3c1ab.js"><link rel="prefetch" href="/blog/assets/js/66.b19af8df.js"><link rel="prefetch" href="/blog/assets/js/67.54423789.js"><link rel="prefetch" href="/blog/assets/js/68.77f526dd.js"><link rel="prefetch" href="/blog/assets/js/69.947f2286.js"><link rel="prefetch" href="/blog/assets/js/7.3f93145a.js"><link rel="prefetch" href="/blog/assets/js/70.bf37cd0c.js"><link rel="prefetch" href="/blog/assets/js/71.8dbb176d.js"><link rel="prefetch" href="/blog/assets/js/72.d932f9cf.js"><link rel="prefetch" href="/blog/assets/js/73.61b6a0ce.js"><link rel="prefetch" href="/blog/assets/js/74.90c9d28d.js"><link rel="prefetch" href="/blog/assets/js/75.4c81ff46.js"><link rel="prefetch" href="/blog/assets/js/76.33f9d612.js"><link rel="prefetch" href="/blog/assets/js/77.0201e1b3.js"><link rel="prefetch" href="/blog/assets/js/78.ce3498be.js"><link rel="prefetch" href="/blog/assets/js/79.6c78c823.js"><link rel="prefetch" href="/blog/assets/js/8.36aabb92.js"><link rel="prefetch" href="/blog/assets/js/80.2cff3d9d.js"><link rel="prefetch" href="/blog/assets/js/81.c4a69c3e.js"><link rel="prefetch" href="/blog/assets/js/82.d9862d3b.js"><link rel="prefetch" href="/blog/assets/js/83.07e4d7ca.js"><link rel="prefetch" href="/blog/assets/js/84.245da29d.js"><link rel="prefetch" href="/blog/assets/js/85.1628e9bc.js"><link rel="prefetch" href="/blog/assets/js/86.07b8c818.js"><link rel="prefetch" href="/blog/assets/js/87.ca0ed62e.js"><link rel="prefetch" href="/blog/assets/js/88.3f4edb54.js"><link rel="prefetch" href="/blog/assets/js/89.97a4cf2e.js"><link rel="prefetch" href="/blog/assets/js/9.7a593466.js"><link rel="prefetch" href="/blog/assets/js/90.ea4ad824.js"><link rel="prefetch" href="/blog/assets/js/91.066abe4a.js"><link rel="prefetch" href="/blog/assets/js/92.9052890c.js"><link rel="prefetch" href="/blog/assets/js/93.27cc57d1.js"><link rel="prefetch" href="/blog/assets/js/94.655aad30.js"><link rel="prefetch" href="/blog/assets/js/95.49db7405.js"><link rel="prefetch" href="/blog/assets/js/96.312c5d3f.js"><link rel="prefetch" href="/blog/assets/js/97.d7c3c0c6.js"><link rel="prefetch" href="/blog/assets/js/98.ab96fb07.js"><link rel="prefetch" href="/blog/assets/js/99.366f2c38.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.757e2734.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7a6c954e><div data-v-7a6c954e><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-7a6c954e data-v-7a6c954e><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-548f7490 data-v-7a6c954e data-v-7a6c954e><h3 class="title" style="display:none;" data-v-548f7490 data-v-548f7490>饭团也有春天</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-548f7490 data-v-548f7490><input type="password" value="" data-v-548f7490> <span data-v-548f7490>Konck! Knock!</span> <button data-v-548f7490>OK</button></label> <div class="footer" style="display:none;" data-v-548f7490 data-v-548f7490><span data-v-548f7490><i class="iconfont reco-theme" data-v-548f7490></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-548f7490>vuePress-theme-reco</a></span> <span data-v-548f7490><i class="iconfont reco-copyright" data-v-548f7490></i> <a data-v-548f7490><span data-v-548f7490>Jabin</span>
            
          <span data-v-548f7490>2018 - </span>
          2023
        </a></span></div></div> <div class="hide" data-v-7a6c954e><header class="navbar" data-v-7a6c954e><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="https://www.zpzpup.com/assets/image/avatar.png" alt="饭团也有春天" class="logo"> <span class="site-name">饭团也有春天</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  随意一点的主页
</a></div><div class="nav-item"><a href="/blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  莫名其妙的时间轴
</a></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  无关紧要的小标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      很厉害的文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/jottings/mobile.html" class="nav-link"><i class="iconfont undefined"></i>
  七杂八杂
</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/vue/ref.html" class="nav-link"><i class="iconfont undefined"></i>
  Vue3.0
</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/nuxt/introduction.html" class="nav-link"><i class="iconfont undefined"></i>
  Nuxt
</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/delicacys/无油捞汁粉丝.html" class="nav-link"><i class="iconfont undefined"></i>
  吃吃吃
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系我吧
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/JabinPeng" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7a6c954e></div> <aside class="sidebar" data-v-7a6c954e><div class="personal-info-wrapper" data-v-ec2c9702 data-v-7a6c954e><img src="https://www.zpzpup.com/assets/image/avatar.png" alt="author-avatar" class="personal-img" data-v-ec2c9702> <h3 class="name" data-v-ec2c9702>
    Jabin
  </h3> <div class="num" data-v-ec2c9702><div data-v-ec2c9702><h3 data-v-ec2c9702>41</h3> <h6 data-v-ec2c9702>文章</h6></div> <div data-v-ec2c9702><h3 data-v-ec2c9702>10</h3> <h6 data-v-ec2c9702>标签</h6></div></div> <hr data-v-ec2c9702></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  随意一点的主页
</a></div><div class="nav-item"><a href="/blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  莫名其妙的时间轴
</a></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  无关紧要的小标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      很厉害的文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/docs/jottings/mobile.html" class="nav-link"><i class="iconfont undefined"></i>
  七杂八杂
</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/vue/ref.html" class="nav-link"><i class="iconfont undefined"></i>
  Vue3.0
</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/nuxt/introduction.html" class="nav-link"><i class="iconfont undefined"></i>
  Nuxt
</a></li><li class="dropdown-item"><!----> <a href="/blog/docs/delicacys/无油捞汁粉丝.html" class="nav-link"><i class="iconfont undefined"></i>
  吃吃吃
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系我吧
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/JabinPeng" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/blog/docs/jottings/mobile.html" class="sidebar-link">移动端踩坑指南</a></li><li><a href="/blog/docs/jottings/Git.html" class="sidebar-link">Git</a></li><li><a href="/blog/docs/jottings/HarmonyOS.html" class="sidebar-link">HarmonyOS</a></li><li><a href="/blog/docs/jottings/DOM.html" class="sidebar-link">DOM操作</a></li><li><a href="/blog/docs/jottings/BOM.html" aria-current="page" class="active sidebar-link">BOM对象</a></li><li><a href="/blog/docs/jottings/particles.html" class="sidebar-link">霓虹灯六角形粒子动画</a></li><li><a href="/blog/docs/jottings/carousel.html" class="sidebar-link">随机轮播</a></li><li><a href="/blog/docs/jottings/whirligig.html" class="sidebar-link">旋转木马</a></li><li><a href="/blog/docs/jottings/filter.html" class="sidebar-link">滤镜 filter</a></li><li><a href="/blog/docs/jottings/scrollTemp.html" class="sidebar-link">滚动条样式</a></li><li><a href="/blog/docs/jottings/reset.html" class="sidebar-link">reset</a></li><li><a href="/blog/docs/jottings/Nginx.html" class="sidebar-link">CentOS7安装Nginx</a></li><li><a href="/blog/docs/jottings/accordion.html" class="sidebar-link">手风琴</a></li><li><a href="/blog/docs/jottings/loading.html" class="sidebar-link">loading 加载动画</a></li><li><a href="/blog/docs/jottings/shadow.html" class="sidebar-link">常见阴影</a></li><li><a href="/blog/docs/jottings/flexbox.html" class="sidebar-link">flex布局</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-548f7490 data-v-7a6c954e><h3 class="title" style="display:none;" data-v-548f7490 data-v-548f7490>BOM对象</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-548f7490 data-v-548f7490><input type="password" value="" data-v-548f7490> <span data-v-548f7490>Konck! Knock!</span> <button data-v-548f7490>OK</button></label> <div class="footer" style="display:none;" data-v-548f7490 data-v-548f7490><span data-v-548f7490><i class="iconfont reco-theme" data-v-548f7490></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-548f7490>vuePress-theme-reco</a></span> <span data-v-548f7490><i class="iconfont reco-copyright" data-v-548f7490></i> <a data-v-548f7490><span data-v-548f7490>Jabin</span>
            
          <span data-v-548f7490>2018 - </span>
          2023
        </a></span></div></div> <div data-v-7a6c954e><main class="page"><div class="page-title" style="display:none;"><h1>BOM对象</h1> <div data-v-01d8a6a8><i class="iconfont reco-account" data-v-01d8a6a8><span data-v-01d8a6a8>Jabin</span></i> <i class="iconfont reco-date" data-v-01d8a6a8><span data-v-01d8a6a8>2021-01-20</span></i> <i class="iconfont reco-eye" data-v-01d8a6a8><span id="/blog/docs/jottings/BOM.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-01d8a6a8><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default" style="display:none;"><h1 id="浏览器对象-bom"><a href="#浏览器对象-bom" class="header-anchor">#</a> 浏览器对象 BOM</h1> <h2 id="判读浏览器是否支持-css-属性"><a href="#判读浏览器是否支持-css-属性" class="header-anchor">#</a> 判读浏览器是否支持 CSS 属性</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 告知浏览器支持的指定css属性情况
 * @param {String} key - css属性，是属性的名字，不需要加前缀
 * @returns {String} - 支持的属性情况
 */</span>
<span class="token keyword">function</span> <span class="token function">validateCssKey</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> jsKey <span class="token operator">=</span> <span class="token function">toCamelCase</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 有些css属性是连字符号形成</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>jsKey <span class="token keyword">in</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>style<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> key<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> validKey <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token comment">// 属性名为前缀在js中的形式，属性值是前缀在css中的形式</span>
  <span class="token comment">// 经尝试，Webkit 也可是首字母小写 webkit</span>
  <span class="token keyword">const</span> prefixMap <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">Webkit</span><span class="token operator">:</span> <span class="token string">'-webkit-'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">Moz</span><span class="token operator">:</span> <span class="token string">'-moz-'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ms</span><span class="token operator">:</span> <span class="token string">'-ms-'</span><span class="token punctuation">,</span>
    <span class="token constant">O</span><span class="token operator">:</span> <span class="token string">'-o-'</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> jsPrefix <span class="token keyword">in</span> prefixMap<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> styleKey <span class="token operator">=</span> <span class="token function">toCamelCase</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>jsPrefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>jsKey<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>styleKey <span class="token keyword">in</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>style<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      validKey <span class="token operator">=</span> prefixMap<span class="token punctuation">[</span>jsPrefix<span class="token punctuation">]</span> <span class="token operator">+</span> key<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> validKey<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 把有连字符号的字符串转化为驼峰命名法的字符串
 */</span>
<span class="token keyword">function</span> <span class="token function">toCamelCase</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">-(\w)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">matched<span class="token punctuation">,</span> letter</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> letter<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">/**
 * 检查浏览器是否支持某个css属性值（es6版）
 * @param {String} key - 检查的属性值所属的css属性名
 * @param {String} value - 要检查的css属性值（不要带前缀）
 * @returns {String} - 返回浏览器支持的属性值
 */</span>
<span class="token keyword">function</span> <span class="token function">valiateCssValue</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> prefix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'-o-'</span><span class="token punctuation">,</span> <span class="token string">'-ms-'</span><span class="token punctuation">,</span> <span class="token string">'-moz-'</span><span class="token punctuation">,</span> <span class="token string">'-webkit-'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> prefixValue <span class="token operator">=</span> prefix<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item <span class="token operator">+</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> eleStyle <span class="token operator">=</span> element<span class="token punctuation">.</span>style<span class="token punctuation">;</span>
  <span class="token comment">// 应用每个前缀的情况，且最后也要应用上没有前缀的情况，看最后浏览器起效的何种情况</span>
  <span class="token comment">// 这就是最好在prefix里的最后一个元素是''</span>
  prefixValue<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    eleStyle<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> eleStyle<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * 检查浏览器是否支持某个css属性值
 * @param {String} key - 检查的属性值所属的css属性名
 * @param {String} value - 要检查的css属性值（不要带前缀）
 * @returns {String} - 返回浏览器支持的属性值
 */</span>
<span class="token keyword">function</span> <span class="token function">valiateCssValue</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> prefix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'-o-'</span><span class="token punctuation">,</span> <span class="token string">'-ms-'</span><span class="token punctuation">,</span> <span class="token string">'-moz-'</span><span class="token punctuation">,</span> <span class="token string">'-webkit-'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> prefixValue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> prefix<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    prefixValue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>prefix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> eleStyle <span class="token operator">=</span> element<span class="token punctuation">.</span>style<span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> prefixValue<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    eleStyle<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> prefixValue<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> eleStyle<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">function</span> <span class="token function">validCss</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> validCss <span class="token operator">=</span> <span class="token function">validateCssKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>validCss<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> validCss<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">valiateCssValue</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br></div></div><h2 id="返回当前网页地址"><a href="#返回当前网页地址" class="header-anchor">#</a> 返回当前网页地址</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">currentURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="获取滚动条位置"><a href="#获取滚动条位置" class="header-anchor">#</a> 获取滚动条位置</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getScrollPosition</span><span class="token punctuation">(</span><span class="token parameter">el <span class="token operator">=</span> window</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>pageXOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageXOffset <span class="token operator">:</span> el<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">,</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>pageYOffset <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">?</span> el<span class="token punctuation">.</span>pageYOffset <span class="token operator">:</span> el<span class="token punctuation">.</span>scrollTop
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="获取url中的参数"><a href="#获取url中的参数" class="header-anchor">#</a> 获取url中的参数</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getURLParameters</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> url<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">([^?=&amp;]+)(=([^&amp;]*))</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>v<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> v<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="页面跳转，是否记录在history中"><a href="#页面跳转，是否记录在history中" class="header-anchor">#</a> 页面跳转，是否记录在history中</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> asLink <span class="token operator">=</span> <span class="token boolean">true</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  asLink <span class="token operator">?</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> url <span class="token operator">:</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="滚动条滚动到指定位置"><a href="#滚动条滚动到指定位置" class="header-anchor">#</a> 滚动条滚动到指定位置</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 解决平滑滚动存在兼容性问题</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span>
  <span class="token parameter"><span class="token literal-property property">yORxy</span><span class="token operator">:</span> number <span class="token operator">|</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> number<span class="token punctuation">;</span> y<span class="token operator">:</span> number <span class="token punctuation">}</span><span class="token punctuation">,</span>
  params<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">smooth</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span>
    <span class="token literal-property property">callBack</span><span class="token operator">:</span> <span class="token keyword">null</span> <span class="token operator">|</span> Function<span class="token punctuation">;</span>
    <span class="token literal-property property">averageStep</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
  <span class="token punctuation">}</span></span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> xy <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> smooth<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> averageStep <span class="token punctuation">}</span> <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">smooth</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">callback</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token literal-property property">averageStep</span><span class="token operator">:</span> <span class="token number">50</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    params
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> isSmooth <span class="token operator">=</span> smooth <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> smooth<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> yORxy <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    xy<span class="token punctuation">.</span>y <span class="token operator">=</span> yORxy<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    xy <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>xy<span class="token punctuation">,</span> yORxy<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isSmooth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>xy<span class="token punctuation">.</span>x<span class="token punctuation">,</span> xy<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> scrollTop <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
  <span class="token keyword">let</span> scrollLeft <span class="token operator">=</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollLeft <span class="token operator">||</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">scrollFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>scrollLeft <span class="token operator">===</span> xy<span class="token punctuation">.</span>x <span class="token operator">&amp;&amp;</span> scrollTop <span class="token operator">===</span> xy<span class="token punctuation">.</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    scrollTop <span class="token operator">=</span>
      scrollTop <span class="token operator">-</span> averageStep <span class="token operator">&lt;=</span> xy<span class="token punctuation">.</span>y <span class="token operator">?</span> xy<span class="token punctuation">.</span>y <span class="token operator">:</span> scrollTop <span class="token operator">-</span> averageStep<span class="token punctuation">;</span>
    scrollLeft <span class="token operator">=</span>
      scrollLeft <span class="token operator">-</span> averageStep <span class="token operator">&lt;=</span> xy<span class="token punctuation">.</span>x <span class="token operator">?</span> xy<span class="token punctuation">.</span>x <span class="token operator">:</span> scrollLeft <span class="token operator">-</span> averageStep<span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>scrollLeft<span class="token punctuation">,</span> scrollTop<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>scrollFn<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">scrollFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h2 id="复制文本"><a href="#复制文本" class="header-anchor">#</a> 复制文本</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">copy</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'textarea'</span><span class="token punctuation">)</span>
  el<span class="token punctuation">.</span>value <span class="token operator">=</span> str
  el<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'readonly'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'absolute'</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token string">'-9999px'</span>
  el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token string">'-9999px'</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
  <span class="token keyword">const</span> selected <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>rangeCount <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> document<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRangeAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token boolean">false</span>
  el<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span><span class="token string">'copy'</span><span class="token punctuation">)</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>selected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeAllRanges</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    document<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addRange</span><span class="token punctuation">(</span>selected<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="检测设备类型"><a href="#检测设备类型" class="header-anchor">#</a> 检测设备类型</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">detectDeviceType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>userAgent<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">'Mobile'</span> <span class="token operator">:</span> <span class="token string">'Desktop'</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2021/11/16 17:58:25</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:2;" data-v-248d85d6></canvas></div><!----><div class="RibbonAnimation"></div><div id="goTop" class="hide-cat" data-v-bf92849a></div><div></div><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;left:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:1;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/blog/assets/js/app.d2a0ea21.js" defer></script><script src="/blog/assets/js/3.a1ba4035.js" defer></script><script src="/blog/assets/js/1.7f92b450.js" defer></script><script src="/blog/assets/js/101.ddf75e67.js" defer></script>
  </body>
</html>
